type (
    TokenReq {
        Usermame string `json:"username,optional"`
        Password string `json:"password,optional"`
    }
)

@server(
    group: oauth
    prefix: /
)

service tenant {
    @handler Token
    post /api/oauth/token (TokenReq) returns (Response)
}

@server(
    group: oauth
    middleware: AuthMiddleware
    prefix: /
)

service tenant {
    @handler currentUser
    get /api/current_user returns (Response)
}
