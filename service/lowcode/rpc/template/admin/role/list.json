{"version":"1.0.0","componentsMap":[{"package":"antd-materials","version":"0.1.0","exportName":"Button","main":"","destructuring":true,"componentName":"Button"},{"package":"antd-materials","version":"0.1.0","exportName":"ProTable","main":"","destructuring":true,"componentName":"ProTable"},{"package":"antd-materials","version":"0.1.0","exportName":"PageContainer","main":"","destructuring":true,"componentName":"PageContainer"},{"package":"antd-materials","version":"0.1.0","exportName":"Page","main":"","destructuring":true,"componentName":"Page"},{"package":"antd-materials","version":"0.1.0","exportName":"Typography","main":"","destructuring":true,"subName":"Text","componentName":"Typography.Text"},{"package":"antd-materials","version":"0.1.0","exportName":"Typography","main":"","destructuring":true,"subName":"Link","componentName":"Typography.Link"},{"package":"antd-materials","version":"0.1.0","exportName":"Divider","main":"","destructuring":true,"componentName":"Divider"},{"package":"antd-materials","version":"0.1.0","exportName":"Popconfirm","main":"","destructuring":true,"componentName":"Popconfirm"}],"componentsTree":[{"componentName":"Page","id":"node_dockcviv8fo1","props":{},"fileName":"/","dataSource":{"list":[{"type":"fetch","isInit":false,"options":{"params":{},"method":"GET","isCors":true,"timeout":5000,"headers":{},"uri":"/api/v1/user/admin/role"},"id":"role"},{"type":"fetch","isInit":false,"options":{"params":{},"method":"DELETE","isCors":true,"timeout":5000,"headers":{},"uri":{"type":"JSExpression","value":"window.apiUrl"}},"id":"deleteRole","dataHandler":{"type":"JSFunction","value":"function(res) { \n  if(res.code != 1) {\n    message.error(res.msg)\n    return []\n  }\n  this.$('protable-edcb12f3').actionRef.current.reload()\n  return res.data\n   }"}}]},"state":{"breadcrumb":{"type":"JSExpression","value":"[{\n  path: '',\n  name: '一级页面'\n}, {\n  path: '',\n  name: '二级页面'\n}, {\n  path: '',\n  name: '当前页面'\n}]"},"name":{"type":"JSExpression","value":"'一级标题'"},"showApi":{"type":"JSExpression","value":"''"}},"css":"","lifeCycles":{"componentDidMount":{"type":"JSFunction","value":"function componentDidMount() {}","source":"function componentDidMount() {}"},"componentWillUnmount":{"type":"JSFunction","value":"function componentWillUnmount() {}","source":"function componentWillUnmount() {}"}},"methods":{"onClick":{"type":"JSFunction","value":"function onClick(event) {\n  // 点击按钮时的回调\n  this.$(\"saveModal\").show({\n    title: '添加医院'\n  });\n}","source":"function onClick(event) {\n  // 点击按钮时的回调\n  this.$(\"saveModal\").show({\n    title: '添加医院'\n  });\n}"},"onFinish":{"type":"JSFunction","value":"function onFinish(values) {\n  // 提交表单且数据验证成功后回调事件\n  console.log('onFinish', values);\n}","source":"function onFinish(values) {\n  // 提交表单且数据验证成功后回调事件\n  console.log('onFinish', values);\n}"},"onOk":{"type":"JSFunction","value":"function onOk() {\n  // 点击确定回调\n  console.log('onOk');\n  this.$(\"form\").submit();\n}","source":"function onOk() {\n  // 点击确定回调\n  console.log('onOk');\n  this.$(\"form\").submit();\n}"},"fetchData":{"type":"JSFunction","value":"async function fetchData(params) {\n  const statusObj = {\n    disabled: 0,\n    enabled: 1\n  };\n  params.status = statusObj[params.status];\n  const role = await this.dataSourceMap['role'].load(params);\n  return {\n    data: role.data,\n    // success 请返回 true，\n    // 不然 table 会停止解析数据，即使有数据\n    success: true,\n    // 不传会使用 data 的长度，如果是分页一定要传\n    total: role.total\n  };\n}","source":"async function fetchData(params) {\n  const statusObj = {\n    disabled: 0,\n    enabled: 1\n  };\n  params.status = statusObj[params.status];\n  const role = await this.dataSourceMap['role'].load(params);\n  return {\n    data: role.data,\n    // success 请返回 true，\n    // 不然 table 会停止解析数据，即使有数据\n    success: true,\n    // 不传会使用 data 的长度，如果是分页一定要传\n    total: role.total\n  };\n}"},"add":{"type":"JSFunction","value":"function add() {\n  this.utils.router.push(`/adminUser/role/add`);\n}","source":"function add() {\n  this.utils.router.push(`/adminUser/role/add`);\n}"},"edit":{"type":"JSFunction","value":"function edit(event, extParams) {\n  const {\n    record\n  } = extParams;\n  this.utils.router.push(`/adminUser/role/edit/${record.id}`);\n}","source":"function edit(event, extParams) {\n  const {\n    record\n  } = extParams;\n  this.utils.router.push(`/adminUser/role/edit/${record.id}`);\n}"},"delItem":{"type":"JSFunction","value":"async function delItem(event, extParams) {\n  const {\n    record\n  } = extParams;\n  window.apiUrl = '/api/v1/user/admin/role/' + record.id;\n  this.dataSourceMap['deleteRole'].load();\n}","source":"async function delItem(event, extParams) {\n  const {\n    record\n  } = extParams;\n  window.apiUrl = '/api/v1/user/admin/role/' + record.id;\n  this.dataSourceMap['deleteRole'].load();\n}"}},"originCode":"class LowcodeComponent extends Component {\n  state = {\n    breadcrumb: [\n      {\n        path: '',\n        name: '一级页面',\n      },\n      {\n        path: '',\n        name: '二级页面',\n      },\n      {\n        path: '',\n        name: '当前页面',\n      },\n    ],\n    name: '一级标题',\n    showApi: '',\n  }\n  componentDidMount() {\n\n  }\n  componentWillUnmount() {\n\n  }\n  onClick(event) {\n    // 点击按钮时的回调\n    this.$(\"saveModal\").show({ title: '添加医院' })\n  }\n  onFinish(values) {\n    // 提交表单且数据验证成功后回调事件\n    console.log('onFinish', values);\n  }\n  onOk() {\n    // 点击确定回调\n    console.log('onOk');\n    this.$(\"form\").submit();\n  }\n\n  async fetchData(params) {\n\n    const statusObj = {\n      disabled: 0,\n      enabled: 1\n    }\n    params.status = statusObj[params.status]\n\n    const role = await this.dataSourceMap['role'].load(params)\n    return {\n      data: role.data,\n      // success 请返回 true，\n      // 不然 table 会停止解析数据，即使有数据\n      success: true,\n      // 不传会使用 data 的长度，如果是分页一定要传\n      total: role.total,\n    };\n  }\n  add() {\n    this.utils.router.push(`/adminUser/role/add`)\n  }\n  edit(event, extParams) {\n    const { record } = extParams\n    this.utils.router.push(`/adminUser/role/edit/${record.id}`)\n  }\n  async delItem(event, extParams) {\n    const { record } = extParams;\n    window.apiUrl = '/api/v1/user/admin/role/' + record.id\n    this.dataSourceMap['deleteRole'].load()\n  }\n}","hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"PageContainer","id":"node_ocli8fbj351","props":{"fixedHeader":true,"header":{"title":{"type":"JSExpression","value":"this.state.name"},"subTitle":"","extra":[],"breadcrumb":{"routes":{"type":"JSExpression","value":"this.state.breadcrumb"},"_unsafe_MixedSetter_routes_select":"ExpressionSetter"},"ghost":true},"footer":[],"affixProps":{},"tabList":[],"tabActiveKey":"","tabProps":{"type":"line","size":"small","hideAdd":false,"centered":false},"ghost":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"ProTable","id":"node_ocli8fbj352","props":{"columns":[{"title":"ID","dataIndex":"id","align":"left","fixed":"","hideInSearch":true,"width":100},{"title":"角色名称","dataIndex":"name"},{"title":"角色描述","dataIndex":"remark","align":"left","fixed":"","hideInSearch":true},{"title":"状态","dataIndex":"status","align":"left","fixed":"","valueType":"text","valueEnum":{"all":"全部","enabled":"启用","disabled":"停用"},"render":{"type":"JSSlot","params":["text","record","index"],"value":[{"componentName":"Typography.Text","id":"node_oclibfp4o13","props":{"children":{"type":"JSExpression","value":"this.record.status == 1 ? '启用' : '禁用'","mock":"text"},"code":false,"delete":false,"disabled":false,"mark":false,"keyboard":false,"underline":false,"strong":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}],"id":"node_oclibfp4o12"},"fieldProps":{"showSearch":false},"renderTag":false},{"title":"操作","dataIndex":"action","valueType":"option","align":"left","fixed":"","render":{"type":"JSSlot","params":["text","record","index"],"value":[{"componentName":"Typography.Link","id":"node_ocli8k6mut8","props":{"target":"_self","children":"编辑","disabled":{"type":"JSExpression","value":"this.record.root ? true : false"},"__events":{"eventDataList":[{"type":"componentEvent","name":"onClick","relatedEventName":"edit","paramStr":"{\n \t \"record\":this.record \n}"}],"eventList":[{"name":"onClick","template":"onClick(event,${extParams}){\n// 点击按钮时的回调\nconsole.log('onClick', event);}","disabled":true}]},"onClick":{"type":"JSFunction","value":"function(){return this.edit.apply(this,Array.prototype.slice.call(arguments).concat([{\n \t \"record\":this.record \n}])) }"},"readonly":true,"_unsafe_MixedSetter_href_select":"StringSetter"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""},{"componentName":"Divider","id":"node_ocli8k6mut7","props":{"dashed":false,"orientation":"left","type":"vertical","plain":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""},{"componentName":"Popconfirm","id":"node_oclibfkpa11","props":{"title":"确定删除?","okType":"primary","okText":"确定","cancelText":"取消","__events":{"eventDataList":[{"type":"componentEvent","name":"onConfirm","relatedEventName":"delItem","paramStr":"{\n \t \"record\":this.record \n}"}],"eventList":[{"name":"onConfirm","template":"onConfirm(${extParams}){\n// 点击确认的回调\nconsole.log('onConfirm');}","disabled":true}]},"onConfirm":{"type":"JSFunction","value":"function(){return this.delItem.apply(this,Array.prototype.slice.call(arguments).concat([{\n \t \"record\":this.record \n}])) }"}},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"Typography.Link","id":"node_ocli8k6mut9","props":{"target":"_self","children":"删除","disabled":{"type":"JSExpression","value":"this.record.root ? true : false"},"style":{"color":"#ff4d4f"},"__events":{"eventDataList":[],"eventList":[{"name":"onClick","template":"onClick(event,${extParams}){\n    // 点击按钮时的回调\n    console.log('onClick', event);\n  }\n","disabled":true}]},"_unsafe_MixedSetter_href_select":"StringSetter"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}]}],"id":"node_ocli8hkvu31"},"width":130}],"manualRequest":false,"rowKey":"id","request":{"type":"JSFunction","value":"function(){ return this.fetchData.apply(this,Array.prototype.slice.call(arguments).concat([])) }"},"toolbar":{"actions":{"type":"JSSlot","value":[{"componentName":"Button","id":"node_ocli8u540e2","props":{"type":"primary","children":"新建","htmlType":"button","size":"middle","shape":"default","icon":"","block":false,"danger":false,"ghost":false,"disabled":false,"target":"_self","__events":{"eventDataList":[{"type":"componentEvent","name":"onClick","relatedEventName":"add"}],"eventList":[{"name":"onClick","template":"onClick(event,${extParams}){\n// 点击按钮时的回调\nconsole.log('onClick', event);}","disabled":true}]},"_unsafe_MixedSetter_href_select":"StringSetter","onClick":{"type":"JSFunction","value":"function(){return this.add.apply(this,Array.prototype.slice.call(arguments).concat([])) }"}},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}],"id":"node_ocli8u540e1"}},"pagination":{"showSizeChanger":true,"showQuickJumper":false,"simple":false,"size":"default","defaultPageSize":10},"scroll":{"scrollToFirstRowOnChange":true},"rowSelection":false,"ref":"protable-edcb12f3"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","loopArgs":["",""]}]}]}],"i18n":{}}