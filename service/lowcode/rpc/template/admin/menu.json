{"version":"1.0.0","componentsMap":[{"package":"antd-materials","version":"0.1.0","exportName":"Input","main":"","destructuring":true,"componentName":"Input"},{"package":"antd-materials","version":"0.1.0","exportName":"Form","main":"","destructuring":true,"subName":"Item","componentName":"Form.Item"},{"package":"antd-materials","version":"0.1.0","exportName":"TreeSelect","main":"","destructuring":true,"componentName":"TreeSelect"},{"package":"antd-materials","version":"0.1.0","exportName":"InputNumber","main":"","destructuring":true,"componentName":"InputNumber"},{"package":"antd-materials","version":"0.1.0","exportName":"Switch","main":"","destructuring":true,"componentName":"Switch"},{"package":"antd-materials","version":"0.1.0","exportName":"Form","main":"","destructuring":true,"componentName":"Form"},{"package":"antd-materials","version":"0.1.0","exportName":"Modal","main":"","destructuring":true,"componentName":"Modal"},{"package":"antd-materials","version":"0.1.0","exportName":"Typography","main":"","destructuring":true,"subName":"Link","componentName":"Typography.Link"},{"package":"antd-materials","version":"0.1.0","exportName":"Divider","main":"","destructuring":true,"componentName":"Divider"},{"package":"antd-materials","version":"0.1.0","exportName":"Popconfirm","main":"","destructuring":true,"componentName":"Popconfirm"},{"package":"antd-materials","version":"0.1.0","exportName":"Button","main":"","destructuring":true,"componentName":"Button"},{"package":"antd-materials","version":"0.1.0","exportName":"ProTable","main":"","destructuring":true,"componentName":"ProTable"},{"package":"antd-materials","version":"0.1.0","exportName":"PageContainer","main":"","destructuring":true,"componentName":"PageContainer"},{"package":"antd-materials","version":"0.1.0","exportName":"Page","main":"","destructuring":true,"componentName":"Page"}],"componentsTree":[{"componentName":"Page","id":"node_dockcviv8fo1","props":{"style":{"background":"#f0f2f5"}},"fileName":"/","dataSource":{"list":[{"type":"fetch","isInit":true,"options":{"params":{},"method":"GET","isCors":true,"timeout":5000,"headers":{},"uri":"/api/v1/lowcode/admin/form"},"id":"menus","dataHandler":{"type":"JSFunction","value":"function(res) { \n  const data = [{\n    name: '作为顶级菜单',\n    id: '',\n  },...res.data]\n\n  this.setState({\n    treeData:data\n  })\n  \n  return res.data }"}},{"type":"fetch","isInit":false,"options":{"params":{},"method":"POST","isCors":true,"timeout":5000,"headers":{},"uri":{"type":"JSExpression","value":"`/api/v1/lowcode/admin/form/${window.editId}`"}},"id":"saveMenu","dataHandler":{"type":"JSFunction","value":"function(res) { \n  \n  if(res.code != 1) {\n    message.error(res.msg)\n    return []\n  }\n  this.$('modal').hide();\n  this.$('protable').actionRef.current.reload();\n  return res.data }"}}]},"state":{"breadcrumb":{"type":"JSExpression","value":"[{\n  path: '',\n  name: '一级页面'\n}, {\n  path: '',\n  name: '二级页面'\n}, {\n  path: '',\n  name: '当前页面'\n}]"},"name":{"type":"JSExpression","value":"'一级标题'"},"treeData":{"type":"JSExpression","value":"[]"}},"css":"","lifeCycles":{"componentDidMount":{"type":"JSFunction","value":"function componentDidMount() {}","source":"function componentDidMount() {}"},"componentWillUnmount":{"type":"JSFunction","value":"function componentWillUnmount() {}","source":"function componentWillUnmount() {}"}},"methods":{"onClick":{"type":"JSFunction","value":"function onClick(event) {\n  // 点击按钮时的回调\n}","source":"function onClick(event) {\n  // 点击按钮时的回调\n}"},"onFinish":{"type":"JSFunction","value":"function onFinish(values) {\n  // 提交表单且数据验证成功后回调事件\n  values.hideInMenu = values.hideInMenu ? 1 : 0;\n  values.status = values.status ? 1 : 0;\n  values.listOrder = Number(values.listOrder);\n  this.dataSourceMap['saveForm'].load(values);\n}","source":"function onFinish(values) {\n  // 提交表单且数据验证成功后回调事件\n  values.hideInMenu = values.hideInMenu ? 1 : 0;\n  values.status = values.status ? 1 : 0;\n  values.listOrder = Number(values.listOrder);\n  this.dataSourceMap['saveForm'].load(values);\n}"},"onOk":{"type":"JSFunction","value":"function onOk() {\n  this.$(\"form\").submit();\n}","source":"function onOk() {\n  this.$(\"form\").submit();\n}"},"fetchData":{"type":"JSFunction","value":"async function fetchData(params) {\n  const data = await this.dataSourceMap['menus'].load(params);\n  return {\n    data,\n    success: true\n  };\n}","source":"async function fetchData(params) {\n  const data = await this.dataSourceMap['menus'].load(params);\n  return {\n    data,\n    success: true\n  };\n}"},"add":{"type":"JSFunction","value":"function add(event) {\n  // 点击按钮时的回调\n  this.$('modal').show({\n    title: '添加菜单'\n  });\n  window.editId = '';\n}","source":"function add(event) {\n  // 点击按钮时的回调\n  this.$('modal').show({\n    title: '添加菜单'\n  });\n  window.editId = '';\n}"},"edit":{"type":"JSFunction","value":"function edit(event, extParams) {\n  const {\n    record\n  } = extParams;\n  this.$('modal').show({\n    title: '编辑菜单'\n  });\n  window.editId = record.id;\n  record.hideInMenu = record.hideInMenu ? true : false;\n  record.status = record.status ? true : false;\n  setTimeout(() => {\n    this.$('form').setFieldsValue(record);\n  }, 0);\n}","source":"function edit(event, extParams) {\n  const {\n    record\n  } = extParams;\n  this.$('modal').show({\n    title: '编辑菜单'\n  });\n  window.editId = record.id;\n  record.hideInMenu = record.hideInMenu ? true : false;\n  record.status = record.status ? true : false;\n  setTimeout(() => {\n    this.$('form').setFieldsValue(record);\n  }, 0);\n}"},"onDesign":{"type":"JSFunction","value":"function onDesign(event, extParams) {\n  // 点击按钮时的回调\n  const {\n    record\n  } = extParams;\n  this.utils.openDesign(record.id);\n}","source":"function onDesign(event, extParams) {\n  // 点击按钮时的回调\n  const {\n    record\n  } = extParams;\n  this.utils.openDesign(record.id);\n}"},"onClickAddWithParentId":{"type":"JSFunction","value":"function onClickAddWithParentId(event, extParams) {\n  // 点击按钮时的回调\n  const {\n    record\n  } = extParams;\n  this.$('modal').show({\n    title: '添加菜单'\n  });\n  window.editId = '';\n  setTimeout(() => {\n    this.$('form').setFieldsValue({\n      parentId: record.id\n    });\n  }, 0);\n}","source":"function onClickAddWithParentId(event, extParams) {\n  // 点击按钮时的回调\n  const {\n    record\n  } = extParams;\n  this.$('modal').show({\n    title: '添加菜单'\n  });\n  window.editId = '';\n  setTimeout(() => {\n    this.$('form').setFieldsValue({\n      parentId: record.id\n    });\n  }, 0);\n}"}},"originCode":"class LowcodeComponent extends Component {\n  state = {\n    breadcrumb: [\n      {\n        path: '',\n        name: '一级页面',\n      },\n      {\n        path: '',\n        name: '二级页面',\n      },\n      {\n        path: '',\n        name: '当前页面',\n      },\n    ],\n    name: '一级标题',\n    treeData: []\n  }\n  componentDidMount() {\n\n  }\n  componentWillUnmount() {\n\n  }\n  onClick(event) {\n    // 点击按钮时的回调\n  }\n  onFinish(values) {\n    // 提交表单且数据验证成功后回调事件\n    values.hideInMenu = values.hideInMenu ? 1 : 0\n    values.status = values.status ? 1 : 0\n    values.listOrder = Number(values.listOrder)\n    this.dataSourceMap['saveForm'].load(values);\n  }\n  onOk() {\n    this.$(\"form\").submit();\n  }\n\n  async fetchData(params) {\n    const data = await this.dataSourceMap['menus'].load(params)\n    return {\n      data,\n      success: true\n    }\n  }\n  add(event) {\n    // 点击按钮时的回调\n    this.$('modal').show({ title: '添加菜单' })\n    window.editId = ''\n  }\n  edit(event, extParams) {\n    const { record } = extParams\n    this.$('modal').show({ title: '编辑菜单' })\n    window.editId = record.id\n    record.hideInMenu = record.hideInMenu ? true : false\n    record.status = record.status ? true : false\n    setTimeout(() => {\n      this.$('form').setFieldsValue(record)\n    }, 0)\n  }\n  onDesign(event, extParams) {\n    // 点击按钮时的回调\n    const { record } = extParams\n    this.utils.openDesign(record.id)\n  }\n  onClickAddWithParentId(event, extParams) {\n    // 点击按钮时的回调\n    const { record } = extParams\n    this.$('modal').show({ title: '添加菜单' })\n    window.editId = ''\n    setTimeout(() => {\n      this.$('form').setFieldsValue({\n        parentId:record.id\n      })\n    }, 0)\n  }\n}","hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"Modal","id":"node_oclix3nzceg","props":{"title":"模态框","width":520,"operations":[{"action":"cancel","type":"normal","content":"取消"},{"action":"submit","type":"primary","content":"确认"}],"mask":true,"centered":false,"closable":true,"confirmLoading":false,"destroyOnClose":false,"forceRender":false,"keyboard":true,"maskClosable":true,"ref":"modal","__events":{"eventDataList":[{"type":"componentEvent","name":"onOk","relatedEventName":"onOk"}],"eventList":[{"name":"afterClose","templete":"onCancel(${extParams}){\n// 完全关闭后的回调\nconsole.log('afterClose');}","disabled":false},{"name":"onCancel","template":"onCancel(${extParams}){\n// 点击遮罩层或右上角叉或取消按钮的回调\nconsole.log('onCancel');}","disabled":false},{"name":"onOk","template":"onOk(${extParams}){\n// 点击确定回调\nconsole.log('onOk');}","disabled":true}]},"onOk":{"type":"JSFunction","value":"function(){return this.onOk.apply(this,Array.prototype.slice.call(arguments).concat([])) }"}},"title":"模态框","hidden":false,"isLocked":false,"condition":true,"conditionGroup":"","loopArgs":["",""],"children":[{"componentName":"Form","id":"node_oclix3nzceh","props":{"labelCol":{"span":6},"wrapperCol":{"span":24},"ref":"form","colon":true,"hideRequiredMark":false,"layout":"vertical","preserve":true,"scrollToFirstError":true,"validateMessages":{"required":"'${name}' 不能为空"},"__events":{"eventDataList":[{"type":"componentEvent","name":"onFinish","relatedEventName":"onFinish"}],"eventList":[{"name":"onFinish","template":"onFinish(values,${extParams}){\n// 提交表单且数据验证成功后回调事件\nconsole.log('onFinish',values);}","disabled":true},{"name":"onFinishFailed","template":"onFinishFailed({values,errorFields,outOfDate},${extParams}){\n// 提交表单且数据验证失败后回调事件\nconsole.log('onFinishFailed',values, errorFields, outOfDate);}","disabled":false},{"name":"onFieldsChange","template":"onFieldsChange(changedFields,allFields,${extParams}){\n// 字段更新时触发回调事件\nconsole.log('onFieldsChange',changedFields,allFields);}","disabled":false},{"name":"onValuesChange","template":"onValuesChange(changedValues,allValues,${extParams}){\n// 字段值更新时触发回调事件\nconsole.log('onValuesChange',changedValues,allValues);}","disabled":false}]},"onFinish":{"type":"JSFunction","value":"function(){return this.onFinish.apply(this,Array.prototype.slice.call(arguments).concat([])) }"}},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","loopArgs":["",""],"children":[{"componentName":"Form.Item","id":"node_oclix3nzcei","props":{"label":"ID","labelAlign":"right","colon":true,"noStyle":false,"valuePropName":"value","name":"id","hidden":true},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"Input","id":"node_oclix3nzcej","props":{"placeholder":"请输入","bordered":true,"disabled":false,"size":"middle","readonly":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}]},{"componentName":"Form.Item","id":"node_oclix3nzcep","props":{"label":"父级Id","labelAlign":"right","colon":true,"noStyle":false,"valuePropName":"value","name":"parentId"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"TreeSelect","id":"node_oclixvr8sn1","props":{"treeDefaultExpandAll":true,"placeholder":"请选择","style":{"width":"100%"},"allowClear":false,"autoClearSearchValue":true,"bordered":true,"disabled":false,"labelInValue":false,"multiple":false,"showCheckedStrategy":"SHOW_ALL","treeCheckable":false,"virtual":true,"fieldNames":{"label":"name","value":"id","children":"routes"},"treeData":{"type":"JSExpression","value":"this.state.treeData"},"defaultValue":[""],"ref":"treeselect-d3534afa"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","loopArgs":["",""]}]},{"componentName":"Form.Item","id":"node_oclix3nzcen","props":{"label":"菜单名称","labelAlign":"right","colon":true,"noStyle":false,"valuePropName":"value","name":"name","initialValue":"","rules":[{"required":true,"message":"菜单名称不能为空"}]},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"Input","id":"node_oclix3nzceo","props":{"placeholder":"请输入","bordered":true,"disabled":false,"size":"middle","readonly":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}]},{"componentName":"Form.Item","id":"node_ocliy2800w1","props":{"label":"排序","labelAlign":"right","colon":true,"noStyle":false,"valuePropName":"value","name":"listOrder","initialValue":"10000"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"InputNumber","id":"node_ocliy286931","props":{"placeholder":"请输入","autoFocus":false,"disabled":false,"controls":true,"bordered":true,"style":{"width":"100%"}},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}]},{"componentName":"Form.Item","id":"node_oclix3nzcer","props":{"label":"菜单中隐藏","name":"hideInMenu","colon":true,"noStyle":false,"valuePropName":"checked","initialValue":"false"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"Switch","id":"node_oclix3nzces","props":{"defaultChecked":true,"checked":false,"autoFocus":false,"disabled":false,"loading":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}]},{"componentName":"Form.Item","id":"node_oclix3nzcet","props":{"label":"状态","name":"status","colon":true,"noStyle":false,"valuePropName":"checked","style":{"marginBottom":"0px"},"initialValue":"true"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"Switch","id":"node_oclix3nzceu","props":{"defaultChecked":true,"checked":false,"autoFocus":false,"disabled":false,"loading":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}]}]}]},{"componentName":"PageContainer","id":"node_ocliwvl97d1","props":{"fixedHeader":true,"header":{"title":{"type":"JSExpression","value":"this.state.name"},"subTitle":"","extra":[],"breadcrumb":{"routes":{"type":"JSExpression","value":"this.state.breadcrumb"},"_unsafe_MixedSetter_routes_select":"ExpressionSetter"},"ghost":true},"footer":[],"affixProps":{},"tabList":[],"tabActiveKey":"","tabProps":{"type":"line","size":"small","hideAdd":false,"centered":false},"ghost":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","children":[{"componentName":"ProTable","id":"node_ocliwx9q1z1","props":{"columns":[{"title":"排序","dataIndex":"listOrder"},{"title":"菜单名称","dataIndex":"name"},{"title":"图标","dataIndex":"icon"},{"title":"菜单状态","dataIndex":"status"},{"title":"创建时间","dataIndex":"createTime"},{"title":"操作","dataIndex":"action","align":"left","fixed":"","render":{"type":"JSSlot","params":["text","record","index"],"value":[{"componentName":"Typography.Link","id":"node_oclix3nzce5","props":{"href":"","target":"_blank","children":"修改","__events":{"eventDataList":[{"type":"componentEvent","name":"onClick","relatedEventName":"edit","paramStr":"{\n \t \"record\":this.record \n}"}],"eventList":[{"name":"onClick","template":"onClick(event,${extParams}){\n    // 点击按钮时的回调\n    console.log('onClick', event);\n  }\n","disabled":true}]},"onClick":{"type":"JSFunction","value":"function(){return this.edit.apply(this,Array.prototype.slice.call(arguments).concat([{\n \t \"record\":this.record \n}])) }"}},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""},{"componentName":"Divider","id":"node_oclix3nzce7","props":{"dashed":false,"orientation":"left","type":"vertical","plain":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""},{"componentName":"Typography.Link","id":"node_oclix3nzce8","props":{"href":"","target":"_blank","children":"添加子菜单","__events":{"eventDataList":[{"type":"componentEvent","name":"onClick","relatedEventName":"onClickAddWithParentId","paramStr":"{\n \t \"record\":this.record \n}"}],"eventList":[{"name":"onClick","template":"onClick(event,${extParams}){\n    // 点击按钮时的回调\n    console.log('onClick', event);\n  }\n","disabled":true}]},"onClick":{"type":"JSFunction","value":"function(){return this.onClickAddWithParentId.apply(this,Array.prototype.slice.call(arguments).concat([{\n \t \"record\":this.record \n}])) }"}},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""},{"componentName":"Divider","id":"node_ocljctk1fp4","props":{"dashed":false,"orientation":"left","type":"vertical","plain":false},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""},{"componentName":"Typography.Link","id":"node_ocljctk1fp3","props":{"href":"","target":"_blank","children":"设计页面","ref":"typography.link-83ebb6d2","_unsafe_MixedSetter____condition____select":"VariableSetter","__events":{"eventDataList":[{"type":"componentEvent","name":"onClick","relatedEventName":"onDesign","paramStr":"{\n \t \"record\":this.record \n}"}],"eventList":[{"name":"onClick","template":"onClick(event,${extParams}){\n    // 点击按钮时的回调\n    console.log('onClick', event);\n  }\n","disabled":true}]},"onClick":{"type":"JSFunction","value":"function(){return this.onDesign.apply(this,Array.prototype.slice.call(arguments).concat([{\n \t \"record\":this.record \n}])) }"}},"hidden":false,"title":"","isLocked":false,"condition":{"type":"JSExpression","value":"this.constants.design"},"conditionGroup":"","loopArgs":["",""]},{"componentName":"Divider","id":"node_oclix3nzce9","props":{"dashed":false,"orientation":"left","type":"vertical","plain":false,"ref":"divider-ffa264ce","_unsafe_MixedSetter____condition____select":"VariableSetter"},"hidden":false,"title":"","isLocked":false,"condition":{"type":"JSExpression","value":"this.constants.design"},"conditionGroup":"","loopArgs":["",""]},{"componentName":"Popconfirm","id":"node_oclix3nzceb","props":{"title":"确定删除?","okType":"primary","okText":"确定","cancelText":"取消","ref":"popconfirm-aec9e960"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","loopArgs":["",""],"children":[{"componentName":"Typography.Link","id":"node_oclix3nzcea","props":{"href":"","target":"_blank","children":"删除","style":{"color":"#ff4d4f"}},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}]}],"id":"node_oclix3nzce1"},"width":260}],"manualRequest":false,"rowKey":"id","pagination":{"defaultPageSize":10,"showSizeChanger":false,"showQuickJumper":false,"simple":false,"size":"default","position":[]},"scroll":{"scrollToFirstRowOnChange":true},"rowSelection":false,"request":{"type":"JSFunction","value":"function(){ return this.fetchData.apply(this,Array.prototype.slice.call(arguments).concat([])) }"},"expandable":{"childrenColumnName":"routes"},"toolbar":{"actions":{"type":"JSSlot","value":[{"componentName":"Button","id":"node_oclix3nzced","props":{"type":"primary","children":"添加","htmlType":"button","size":"middle","shape":"default","icon":"","block":false,"danger":false,"ghost":false,"disabled":false,"__events":{"eventDataList":[{"type":"componentEvent","name":"onClick","relatedEventName":"add"}],"eventList":[{"name":"onClick","template":"onClick(event,${extParams}){\n    // 点击按钮时的回调\n    console.log('onClick', event);\n  }\n","disabled":true}]},"onClick":{"type":"JSFunction","value":"function(){return this.add.apply(this,Array.prototype.slice.call(arguments).concat([])) }"}},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":""}],"id":"node_oclix3nzcec"}},"ref":"protable"},"hidden":false,"title":"","isLocked":false,"condition":true,"conditionGroup":"","loopArgs":["",""]}]}]}],"i18n":{}}